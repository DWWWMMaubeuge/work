CREATE DATABASE DWWM_Maubeuge;
use DWWM_Maubeuge;


CREATE TABLE users ( id INT AUTO_INCREMENT PRIMARY KEY NOT NULL, datex DATETIME DEFAULT(NOW()), name VARCHAR(255), surname VARCHAR(255), password VARCHAR(255), mail VARCHAR(255), id_formation INT, role varchar(3) );

INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "trouvetout",  "geo",    "geo@gmail.com", "123", 1, 'FOR' );        
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "picsou",  "oncle",    "oncle@gmail.com", "admim", 1, 'ADM' );        
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "ligonnes",  "xavier",    "xligo@gmail.com", "123", 1, 'STA' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "Castix",    "ferdinand", "fcast@gmail.com", "123", 3, 'STA' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "Castix",    "ferdinand", "fcast@gmail.com", "123", 3, 'STA' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "Lecuisinier",    "Max", "cuisine@gmail.com", "123", 2, 'STA' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "Lecomte",    "JP", "compta@gmail.com", "123", 0, 'ADM' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "bourgey",    "Xav", "xav@gmail.com", "123", 1, 'FOR' );
INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "durand",    "Sam", "sam@gmail.com", "123", 2, 'FOR' );

INSERT INTO users ( name, surname, mail, password, id_formation, role ) VALUES ( "admin",    "admin", "admin", "admin", 0, 'ADM' );



CREATE TABLE  skills ( id INT AUTO_INCREMENT PRIMARY KEY NOT NULL, datex DATETIME DEFAULT(NOW()), name VARCHAR(255), id_formation INT  );

INSERT INTO skills ( name, id_formation ) VALUES ( "HTML", 1 );
INSERT INTO skills ( name, id_formation ) VALUES ( "CSS", 1 );
INSERT INTO skills ( name, id_formation ) VALUES ( "AJAX", 1 );
INSERT INTO skills ( name, id_formation ) VALUES ( "JavaScript", 1 );

INSERT INTO skills ( name, id_formation ) VALUES ( "patisserie", 2 );
INSERT INTO skills ( name, id_formation ) VALUES ( "sauce", 2 );
INSERT INTO skills ( name, id_formation ) VALUES ( "légumes", 2 );

INSERT INTO skills ( name, id_formation ) VALUES ( "les métaux", 3 );
INSERT INTO skills ( name, id_formation ) VALUES ( "les métaux", 3 );
INSERT INTO skills ( name, id_formation ) VALUES ( "les alliage", 3 );
INSERT INTO skills ( name, id_formation ) VALUES ( "soudure électrique", 3 );



CREATE TABLE  formations ( id INT AUTO_INCREMENT PRIMARY KEY NOT NULL,  name VARCHAR(255) );

INSERT INTO formations ( name ) VALUES ( "DWWM" );
INSERT INTO formations ( name ) VALUES ( "CUISINE" );
INSERT INTO formations ( name ) VALUES ( "SOUDURE" );



CREATE TABLE  results ( id INT AUTO_INCREMENT PRIMARY KEY NOT NULL, datex DATETIME DEFAULT(NOW()),  id_user INT, id_skill INT, result INT );

INSERT INTO results ( id_user, id_skill, result ) VALUES ( 2, 1, 15 );
INSERT INTO results ( id_user, id_skill, result ) VALUES ( 2, 2, 38 );
INSERT INTO results ( id_user, id_skill, result ) VALUES ( 2, 3, 55 );
INSERT INTO results ( id_user, id_skill, result ) VALUES ( 3, 1, 73 );
INSERT INTO results ( id_user, id_skill, result ) VALUES ( 3, 2, 66 );
INSERT INTO results ( id_user, id_skill, result ) VALUES ( 4, 2, 22 );



CREATE TABLE  sessions ( id INT AUTO_INCREMENT PRIMARY KEY NOT NULL, datex DATETIME DEFAULT(NOW()), date_begin DATE, date_end DATE, name VARCHAR(255), id_formation INT  );

INSERT INTO sessions ( name, id_formation, date_begin, date_end ) VALUES ( "DWWM Maubeuge",    1, 17/08/2020, 30/03/2021 );
